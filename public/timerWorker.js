(()=>{var s=null,l=[],n=0;function p(e,r,i){let a=[],t=e;while(t>0){let o=Math.floor(Math.random()*(i-r+1))+r;if(o<=t)a.push({isRest:!1,duration:o,timeLeft:o,progress:0}),t-=o;else{a.push({isRest:!1,duration:t,timeLeft:t,progress:0});break}if(t>=10)a.push({isRest:!0,duration:10,timeLeft:10,progress:0}),t-=10}return a}function u(){if(s!==null)clearInterval(s);s=setInterval(()=>{let e=l[n];if(!e){clearInterval(s),s=null;return}if(e.timeLeft>0)e.timeLeft--,e.progress=(e.duration-e.timeLeft)/e.duration*100,postMessage({type:"UPDATE_SEGMENTS",payload:{segments:l}});else if(clearInterval(s),s=null,postMessage({type:"SEGMENT_FINISHED",payload:{isRest:e.isRest}}),n++,n<l.length)postMessage({type:"UPDATE_CURRENT_SEGMENT_INDEX",payload:{index:n}}),u()},1000)}onmessage=(e)=>{let r=e.data;if(r.type==="START"){let{totalTime:i,workMin:a,workMax:t}=r.payload;l=p(i,a,t),n=0,postMessage({type:"UPDATE_SEGMENTS",payload:{segments:l}}),postMessage({type:"UPDATE_CURRENT_SEGMENT_INDEX",payload:{index:n}}),u()}};})();

//# debugId=E8E4D6957DC2BED664756E2164756E21
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi5cXHNyY1xcc2VydmljZS13b3JrZXJcXHRpbWVyV29ya2VyLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWwogICAgImxldCB0aW1lcjogbnVtYmVyIHwgbnVsbCA9IG51bGw7XHJcbmxldCBzZWdtZW50czogYW55W10gPSBbXTtcclxubGV0IGN1cnJlbnRTZWdtZW50SW5kZXg6IG51bWJlciA9IDA7XHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVNlZ21lbnRzKHRvdGFsVGltZTogbnVtYmVyLCB3b3JrTWluOiBudW1iZXIsIHdvcmtNYXg6IG51bWJlcikge1xyXG4gIGNvbnN0IHJlc3VsdCA9IFtdO1xyXG4gIGxldCByZW1haW5pbmcgPSB0b3RhbFRpbWU7XHJcblxyXG4gIHdoaWxlIChyZW1haW5pbmcgPiAwKSB7XHJcbiAgICBjb25zdCB3b3JrRHVyYXRpb24gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAod29ya01heCAtIHdvcmtNaW4gKyAxKSkgKyB3b3JrTWluO1xyXG4gICAgaWYgKHdvcmtEdXJhdGlvbiA8PSByZW1haW5pbmcpIHtcclxuICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgIGlzUmVzdDogZmFsc2UsXHJcbiAgICAgICAgZHVyYXRpb246IHdvcmtEdXJhdGlvbixcclxuICAgICAgICB0aW1lTGVmdDogd29ya0R1cmF0aW9uLFxyXG4gICAgICAgIHByb2dyZXNzOiAwLFxyXG4gICAgICB9KTtcclxuICAgICAgcmVtYWluaW5nIC09IHdvcmtEdXJhdGlvbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICBpc1Jlc3Q6IGZhbHNlLFxyXG4gICAgICAgIGR1cmF0aW9uOiByZW1haW5pbmcsXHJcbiAgICAgICAgdGltZUxlZnQ6IHJlbWFpbmluZyxcclxuICAgICAgICBwcm9ncmVzczogMCxcclxuICAgICAgfSk7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChyZW1haW5pbmcgPj0gMTApIHtcclxuICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgIGlzUmVzdDogdHJ1ZSxcclxuICAgICAgICBkdXJhdGlvbjogMTAsXHJcbiAgICAgICAgdGltZUxlZnQ6IDEwLFxyXG4gICAgICAgIHByb2dyZXNzOiAwLFxyXG4gICAgICB9KTtcclxuICAgICAgcmVtYWluaW5nIC09IDEwO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RhcnRUaW1lcigpIHtcclxuICBpZiAodGltZXIgIT09IG51bGwpIGNsZWFySW50ZXJ2YWwodGltZXIpO1xyXG5cclxuICB0aW1lciA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgIGNvbnN0IGN1cnJlbnQgPSBzZWdtZW50c1tjdXJyZW50U2VnbWVudEluZGV4XTtcclxuICAgIGlmICghY3VycmVudCkge1xyXG4gICAgICBjbGVhckludGVydmFsKHRpbWVyISk7XHJcbiAgICAgIHRpbWVyID0gbnVsbDtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChjdXJyZW50LnRpbWVMZWZ0ID4gMCkge1xyXG4gICAgICBjdXJyZW50LnRpbWVMZWZ0LS07XHJcbiAgICAgIGN1cnJlbnQucHJvZ3Jlc3MgPSAoKGN1cnJlbnQuZHVyYXRpb24gLSBjdXJyZW50LnRpbWVMZWZ0KSAvIGN1cnJlbnQuZHVyYXRpb24pICogMTAwO1xyXG4gICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6ICdVUERBVEVfU0VHTUVOVFMnLCBwYXlsb2FkOiB7IHNlZ21lbnRzIH0gfSk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lciEpO1xyXG4gICAgICB0aW1lciA9IG51bGw7XHJcblxyXG4gICAgICBwb3N0TWVzc2FnZSh7IHR5cGU6ICdTRUdNRU5UX0ZJTklTSEVEJywgcGF5bG9hZDogeyBpc1Jlc3Q6IGN1cnJlbnQuaXNSZXN0IH0gfSk7XHJcblxyXG4gICAgICBjdXJyZW50U2VnbWVudEluZGV4Kys7XHJcbiAgICAgIGlmIChjdXJyZW50U2VnbWVudEluZGV4IDwgc2VnbWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgcG9zdE1lc3NhZ2UoeyB0eXBlOiAnVVBEQVRFX0NVUlJFTlRfU0VHTUVOVF9JTkRFWCcsIHBheWxvYWQ6IHsgaW5kZXg6IGN1cnJlbnRTZWdtZW50SW5kZXggfSB9KTtcclxuICAgICAgICBzdGFydFRpbWVyKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LCAxMDAwKTtcclxufVxyXG5cclxub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XHJcbiAgY29uc3QgZGF0YSA9IGV2ZW50LmRhdGE7XHJcblxyXG4gIGlmIChkYXRhLnR5cGUgPT09ICdTVEFSVCcpIHtcclxuICAgIGNvbnN0IHsgdG90YWxUaW1lLCB3b3JrTWluLCB3b3JrTWF4IH0gPSBkYXRhLnBheWxvYWQ7XHJcbiAgICBzZWdtZW50cyA9IGdlbmVyYXRlU2VnbWVudHModG90YWxUaW1lLCB3b3JrTWluLCB3b3JrTWF4KTtcclxuICAgIGN1cnJlbnRTZWdtZW50SW5kZXggPSAwO1xyXG5cclxuICAgIHBvc3RNZXNzYWdlKHsgdHlwZTogJ1VQREFURV9TRUdNRU5UUycsIHBheWxvYWQ6IHsgc2VnbWVudHMgfSB9KTtcclxuICAgIHBvc3RNZXNzYWdlKHsgdHlwZTogJ1VQREFURV9DVVJSRU5UX1NFR01FTlRfSU5ERVgnLCBwYXlsb2FkOiB7IGluZGV4OiBjdXJyZW50U2VnbWVudEluZGV4IH0gfSk7XHJcblxyXG4gICAgc3RhcnRUaW1lcigpO1xyXG4gIH1cclxufTsiCiAgXSwKICAibWFwcGluZ3MiOiAiTUFBQSxJQUFJLEVBQXVCLEtBQ3ZCLEVBQWtCLENBQUMsRUFDbkIsRUFBOEIsRUFFbEMsU0FBUyxDQUFnQixDQUFDLEVBQW1CLEVBQWlCLEVBQWlCLENBQzdFLElBQU0sRUFBUyxDQUFDLEVBQ1osRUFBWSxFQUVoQixNQUFPLEVBQVksRUFBRyxDQUNwQixJQUFNLEVBQWUsS0FBSyxNQUFNLEtBQUssT0FBTyxHQUFLLEVBQVUsRUFBVSxFQUFFLEVBQUksRUFDM0UsR0FBSSxHQUFnQixFQUNsQixFQUFPLEtBQUssQ0FDVixPQUFRLEdBQ1IsU0FBVSxFQUNWLFNBQVUsRUFDVixTQUFVLENBQ1osQ0FBQyxFQUNELEdBQWEsRUFDUixLQUNMLEVBQU8sS0FBSyxDQUNWLE9BQVEsR0FDUixTQUFVLEVBQ1YsU0FBVSxFQUNWLFNBQVUsQ0FDWixDQUFDLEVBQ0QsTUFHRixHQUFJLEdBQWEsR0FDZixFQUFPLEtBQUssQ0FDVixPQUFRLEdBQ1IsU0FBVSxHQUNWLFNBQVUsR0FDVixTQUFVLENBQ1osQ0FBQyxFQUNELEdBQWEsR0FJakIsT0FBTyxFQUdULFNBQVMsQ0FBVSxFQUFHLENBQ3BCLEdBQUksSUFBVSxLQUFNLGNBQWMsQ0FBSyxFQUV2QyxFQUFRLFlBQVksSUFBTSxDQUN4QixJQUFNLEVBQVUsRUFBUyxHQUN6QixJQUFLLEVBQVMsQ0FDWixjQUFjLENBQU0sRUFDcEIsRUFBUSxLQUNSLE9BR0YsR0FBSSxFQUFRLFNBQVcsRUFDckIsRUFBUSxXQUNSLEVBQVEsVUFBYSxFQUFRLFNBQVcsRUFBUSxVQUFZLEVBQVEsU0FBWSxJQUNoRixZQUFZLENBQUUsS0FBTSxrQkFBbUIsUUFBUyxDQUFFLFVBQVMsQ0FBRSxDQUFDLEVBUzlELFFBTkEsY0FBYyxDQUFNLEVBQ3BCLEVBQVEsS0FFUixZQUFZLENBQUUsS0FBTSxtQkFBb0IsUUFBUyxDQUFFLE9BQVEsRUFBUSxNQUFPLENBQUUsQ0FBQyxFQUU3RSxJQUNJLEVBQXNCLEVBQVMsT0FDakMsWUFBWSxDQUFFLEtBQU0sK0JBQWdDLFFBQVMsQ0FBRSxNQUFPLENBQW9CLENBQUUsQ0FBQyxFQUM3RixFQUFXLEdBR2QsSUFBSSxFQUdULFVBQVksQ0FBQyxJQUFVLENBQ3JCLElBQU0sRUFBTyxFQUFNLEtBRW5CLEdBQUksRUFBSyxPQUFTLFFBQVMsQ0FDekIsSUFBUSxZQUFXLFVBQVMsV0FBWSxFQUFLLFFBQzdDLEVBQVcsRUFBaUIsRUFBVyxFQUFTLENBQU8sRUFDdkQsRUFBc0IsRUFFdEIsWUFBWSxDQUFFLEtBQU0sa0JBQW1CLFFBQVMsQ0FBRSxVQUFTLENBQUUsQ0FBQyxFQUM5RCxZQUFZLENBQUUsS0FBTSwrQkFBZ0MsUUFBUyxDQUFFLE1BQU8sQ0FBb0IsQ0FBRSxDQUFDLEVBRTdGLEVBQVciLAogICJkZWJ1Z0lkIjogIkU4RTRENjk1N0RDMkJFRDY2NDc1NkUyMTY0NzU2RTIxIiwKICAibmFtZXMiOiBbXQp9
